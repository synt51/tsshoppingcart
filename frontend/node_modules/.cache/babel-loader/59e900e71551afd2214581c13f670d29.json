{"ast":null,"code":"import _objectSpread from\"/Users/heinzschlomer/Desktop/neueFische/Aufgaben/Vierte Woche/tsshoppinglist/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";export default function homeController(){var STORAGE_KEY='ts_shopping_cart';var re=new RegExp(/\\s/g);var items=JSON.parse(localStorage.getItem(STORAGE_KEY))||{};var setItems=function setItems(value){items=value;localStorage.setItem(STORAGE_KEY,JSON.stringify(items));};var isValidName=function isValidName(value){return!!(value&&!re.test(value));};return{getItems:function getItems(){return _objectSpread({},items);},addItem:function addItem(newItem,quantity){if(isValidName(newItem)){var temp=_objectSpread({},items);temp[newItem]=(temp[newItem]?temp[newItem]:0)+parseInt(String(quantity));setItems(temp);}return _objectSpread({},items);},removeItem:function removeItem(item){var temp=_objectSpread({},items);temp[item]>=0||temp[item]<=0?delete temp[item]:temp[item]--;setItems(temp);return _objectSpread({},items);},decreaseItem:function decreaseItem(item){var temp=_objectSpread({},items);temp[item]<=1?delete temp[item]:temp[item]--;setItems(temp);return _objectSpread({},items);},changeItem:function changeItem(oldName,newName){if(isValidName(newName)&&!(newName===oldName)){var temp=_objectSpread({},items);temp[newName]=temp[oldName];delete temp[oldName];setItems(temp);}return _objectSpread({},items);}};}","map":{"version":3,"sources":["/Users/heinzschlomer/Desktop/neueFische/Aufgaben/Vierte Woche/tsshoppinglist/frontend/src/controller/homeController.ts"],"names":["homeController","STORAGE_KEY","re","RegExp","items","JSON","parse","localStorage","getItem","setItems","value","setItem","stringify","isValidName","test","getItems","addItem","newItem","quantity","temp","parseInt","String","removeItem","item","decreaseItem","changeItem","oldName","newName"],"mappings":"0KAWA,cAAe,SAASA,CAAAA,cAAT,EAA2C,CACtD,GAAMC,CAAAA,WAAmB,CAAG,kBAA5B,CACA,GAAMC,CAAAA,EAAU,CAAG,GAAIC,CAAAA,MAAJ,CAAW,KAAX,CAAnB,CACA,GAAIC,CAAAA,KAAa,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBP,WAArB,CAAX,GAAkD,EAAtE,CAEA,GAAMQ,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAmB,CAChCN,KAAK,CAAGM,KAAR,CACAH,YAAY,CAACI,OAAb,CAAqBV,WAArB,CAAkCI,IAAI,CAACO,SAAL,CAAeR,KAAf,CAAlC,EACH,CAHD,CAKA,GAAMS,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACH,KAAD,CAA4B,CAC5C,MAAO,CAAC,EAAEA,KAAK,EAAI,CAACR,EAAE,CAACY,IAAH,CAAQJ,KAAR,CAAZ,CAAR,CACH,CAFD,CAIA,MAAO,CACHK,QAAQ,CAAE,4CAAmBX,KAAnB,GADP,CAEHY,OAAO,CAAE,iBAACC,OAAD,CAAUC,QAAV,CAA+B,CACpC,GAAIL,WAAW,CAACI,OAAD,CAAf,CAA0B,CACtB,GAAME,CAAAA,IAAY,kBAAOf,KAAP,CAAlB,CACAe,IAAI,CAACF,OAAD,CAAJ,CAAiB,CAACE,IAAI,CAACF,OAAD,CAAJ,CAAgBE,IAAI,CAACF,OAAD,CAApB,CAAgC,CAAjC,EAAsCG,QAAQ,CAACC,MAAM,CAACH,QAAD,CAAP,CAA/D,CACAT,QAAQ,CAACU,IAAD,CAAR,CACH,CACD,wBAAWf,KAAX,EACH,CATE,CAWHkB,UAAU,CAAE,oBAACC,IAAD,CAA0B,CAClC,GAAMJ,CAAAA,IAAY,kBAAOf,KAAP,CAAlB,CACAe,IAAI,CAACI,IAAD,CAAJ,EAAc,CAAd,EAAmBJ,IAAI,CAACI,IAAD,CAAJ,EAAc,CAAjC,CAAqC,MAAOJ,CAAAA,IAAI,CAACI,IAAD,CAAhD,CAAyDJ,IAAI,CAACI,IAAD,CAAJ,EAAzD,CACAd,QAAQ,CAACU,IAAD,CAAR,CACA,wBAAWf,KAAX,EACH,CAhBE,CAkBHoB,YAAY,CAAE,sBAACD,IAAD,CAA0B,CACpC,GAAMJ,CAAAA,IAAY,kBAAOf,KAAP,CAAlB,CACAe,IAAI,CAACI,IAAD,CAAJ,EAAc,CAAd,CAAkB,MAAOJ,CAAAA,IAAI,CAACI,IAAD,CAA7B,CAAsCJ,IAAI,CAACI,IAAD,CAAJ,EAAtC,CACAd,QAAQ,CAACU,IAAD,CAAR,CACA,wBAAWf,KAAX,EACH,CAvBE,CAyBHqB,UAAU,CAAE,oBAACC,OAAD,CAAkBC,OAAlB,CAA8C,CACtD,GAAId,WAAW,CAACc,OAAD,CAAX,EAAwB,EAAEA,OAAO,GAAKD,OAAd,CAA5B,CAAoD,CAChD,GAAMP,CAAAA,IAAY,kBAAOf,KAAP,CAAlB,CACAe,IAAI,CAACQ,OAAD,CAAJ,CAAgBR,IAAI,CAACO,OAAD,CAApB,CACA,MAAOP,CAAAA,IAAI,CAACO,OAAD,CAAX,CACAjB,QAAQ,CAACU,IAAD,CAAR,CACH,CACD,wBAAWf,KAAX,EACH,CAjCE,CAAP,CAoCH","sourcesContent":["import {IItems} from \"../models/ShoppingItems\";\n\nexport interface IHomeController {\n    getItems: () => IItems,\n    addItem: (newItem: string, quantity: number) => IItems,\n    removeItem: (item: string) => IItems,\n    decreaseItem: (item: string) => IItems,\n    changeItem: (oldName: string, newName: string) => IItems,\n    //removeList: () => IItems\n}\n\nexport default function homeController(): IHomeController {\n    const STORAGE_KEY: string = 'ts_shopping_cart'\n    const re: RegExp = new RegExp(/\\s/g)\n    let items: IItems = JSON.parse(localStorage.getItem(STORAGE_KEY)!) || {}\n\n    const setItems = (value: IItems) => {\n        items = value\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(items))\n    }\n\n    const isValidName = (value: string): boolean => {\n        return !!(value && !re.test(value))\n    }\n\n    return {\n        getItems: (): IItems => ({...items}),\n        addItem: (newItem, quantity): IItems => {\n            if (isValidName(newItem)) {\n                const temp: IItems = {...items}\n                temp[newItem] = ((temp[newItem] ? temp[newItem] : 0) + parseInt(String(quantity)))\n                setItems(temp)\n            }\n            return {...items}\n        },\n\n        removeItem: (item: string): IItems => {\n            const temp: IItems = {...items}\n            temp[item] >= 0 || temp[item] <= 0 ? delete temp[item] : temp[item]--\n            setItems(temp)\n            return {...items}\n        },\n\n        decreaseItem: (item: string): IItems => {\n            const temp: IItems = {...items}\n            temp[item] <= 1 ? delete temp[item] : temp[item]--\n            setItems(temp)\n            return {...items}\n        },\n\n        changeItem: (oldName: string, newName: string): IItems => {\n            if (isValidName(newName) && !(newName === oldName)) {\n                const temp: IItems = {...items}\n                temp[newName] = temp[oldName]\n                delete temp[oldName]\n                setItems(temp)\n            }\n            return {...items}\n        },\n\n    };\n}"]},"metadata":{},"sourceType":"module"}